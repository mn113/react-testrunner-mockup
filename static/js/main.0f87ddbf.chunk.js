(window["webpackJsonpreact-testrunner-mockup"]=window["webpackJsonpreact-testrunner-mockup"]||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},35:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(1),o=a.n(i),s=a(11),c=a.n(s),r=o.a.createContext(!0),l=r.Provider,m=(r.Consumer,r),d=a(5),u=a(12),v=a(13),h=a(21),b=a(14),I=a(4),p=a(22),f=a(9);var k=function(){return o.a.createElement("nav",{className:"jump-menu"},o.a.createElement("h2",{className:"qti-visually-hidden"},"Skip menu"),o.a.createElement("a",{href:"#main",className:"jump-link",tabIndex:"0",role:"button"},"Skip to question 7"),o.a.createElement("a",{href:"#navigation",className:"jump-link",tabIndex:"0",role:"button"},"Skip to navigation"),o.a.createElement("a",{href:"#tools",className:"jump-link",tabIndex:"0",role:"button"},"Skip to tool box & configuration"))},g=a(3);var E=function(e){var t=e.testTitle,a=e.sectionTitle,n=e.sectionNo,i=e.sectionsTotal;return o.a.createElement("aside",{className:"test-breadcrumb"},o.a.createElement("span",null,t),o.a.createElement("span",{className:"sep"},"/"),o.a.createElement("span",null,"Section ",n," of ",i," : ",a))};var S=function(e){var t=Object(i.useState)("light"),a=Object(n.a)(t,2),s=a[0],c=a[1];return o.a.createElement("button",{onClick:function(){e.toggleTheme(),c("light"===s?"dark":"light")}},"Light/dark mode")};var y=function(e){var t=Object(i.useState)(!1),a=Object(n.a)(t,2),s=a[0],c=a[1];return o.a.createElement("aside",{"aria-labelledby":"tools",className:"toolMenu",onClick:function(){return c(!s)}},o.a.createElement(g.f,null),o.a.createElement("div",{className:"popup-menu "+(s?"":"qti-visually-hidden")},o.a.createElement("h2",{id:"tools",className:"qti-visually-hidden"},"tool box & configuration"),o.a.createElement("h3",{id:"tool_title",className:"qti-visually-hidden"},"My Test Tools"),o.a.createElement(S,{toggleTheme:e.toggleTheme}),o.a.createElement("button",{disabled:!0},"Calculator"),o.a.createElement("button",{disabled:!0},"Highlighter"),o.a.createElement("h3",{className:"qti-visually-hidden"},"My Exhibits"),o.a.createElement("button",{disabled:!0},"Exhibit: Periodic Table of Elements"),o.a.createElement("h3",{className:"qti-visually-hidden"},"My Test Configuration"),o.a.createElement("button",{disabled:!0},"Test Configuration")))};var j=function(e){return o.a.createElement("header",{className:"top-bar"},o.a.createElement("button",{"aria-label":"main menu",className:"menu-button"},o.a.createElement(g.e,null)),o.a.createElement("h1",{id:"assessment_name"},o.a.createElement(E,{testTitle:e.testTitle,sectionTitle:e.sectionData.title,sectionNo:e.sectionData.position+1,sectionsTotal:3}),o.a.createElement("span",{className:"timer",id:"demo-timer","aria-label":"Time remaining in this part: "},"09:59")),o.a.createElement(y,{toggleTheme:e.toggleTheme}))};function w(e){var t=Object(i.useState)(!1),a=Object(n.a)(t,2),s=a[0],c=a[1];return o.a.createElement("div",{className:"qti-choice "+(s?"eliminated":"")},o.a.createElement("label",null,o.a.createElement("input",{type:"radio",name:e.group,value:"".concat(e.group,"_choice").concat(e.letter),checked:e.response===e.letter,onChange:e.setResponse.bind(null,e)}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(e.letter,". ").concat(e.text)}})),e.eliminable&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),c(!s)}},s?"Une":"E","liminate answer ",e.letter))}w.defaultProps={eliminable:!1};var O=w;function N(e){return o.a.createElement("div",{className:"bookmark-tool "+(e.isBookmarked?"bookmarked":"")},o.a.createElement("h3",{id:"flag_title",className:"qti-visually-hidden"},"Flag for review"),o.a.createElement("button",{role:"switch","aria-checked":"false",className:"button-large-circle scaling secondary",onClick:e.bookmarkItem.bind(null,e)},o.a.createElement(g.c,null),o.a.createElement("span",{className:"qti-visually-hidden"},"Flag Question ",e.itemId," for review")))}N.defaultProps={isBookmarked:!1};var T=N,x="/data",A=["choiceItem1.json","choiceItem2.json","choiceItem3.json"];var M=function(e){var t=Object(i.useState)(null),a=Object(n.a)(t,2),s=a[0],c=a[1];return Object(i.useEffect)((function(){document.title=e.itemData.title,console.log("fetching itemData..."),fetch("".concat(x,"/").concat(A[e.itemData.position%3])).then((function(e){return e.json()})).then((function(e){console.log(e.attributes.title,Object.values(e.body.elements)[0].prompt.body),c(e)}))}),[e.itemData.title]),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("article",{"aria-labelledby":"question_title",key:"".concat(e.sectionId,"_").concat(e.itemId),className:"qti-itemBody anim-"+e.itemAnimation},o.a.createElement("h2",{id:"question_title",className:"qti-visually-hidden"},"Question ",e.itemId," of 14  - unanswered. In Question Group ",e.sectionId," of 2."),o.a.createElement("section",{"aria-label":"reading passage"},o.a.createElement("h3",{id:"passage_title"},o.a.createElement("span",{className:"not-visually-hidden"},"Passage: "),e.itemData.title),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.body.body}})),o.a.createElement("section",{"aria-label":"question"},o.a.createElement("h3",{className:"prompt"},o.a.createElement("span",{className:"qti-visually-hidden"},"Question: "),Object.values(s.body.elements)[0].prompt.body),o.a.createElement("div",{className:"qti-choices"},Object.values(Object.values(s.body.elements)[0].choices).map((function(t){return o.a.createElement(O,{group:"".concat(e.sectionId,"_").concat(e.itemId),key:t.identifier,letter:t.identifier,text:t.body.body,eliminable:!0,sectionId:e.sectionId,itemId:e.itemId,response:e.response,setResponse:e.setResponse})}))))),o.a.createElement(T,{itemId:e.itemId,sectionId:e.sectionId,isBookmarked:e.isBookmarked,bookmarkItem:e.bookmarkItem}))};var q=function(e){return"prev"===e.dir?o.a.createElement("button",{"aria-label":"go to previous question",className:"button-large-circle navButton scaling prev secondary",value:"prev",onClick:e.move.bind(this)},o.a.createElement(g.a,null)):"next"===e.dir?o.a.createElement("button",{"aria-label":"go to next question",className:"button-large-circle navButton scaling next primary",value:"next",onClick:e.move.bind(this)},o.a.createElement(g.b,null)):null},B=a(15),_=a(16);function D(){var e=Object(B.a)(["\n    height: 36px;\n    width: unset;\n    border-radius: 18px;\n    text-transform: uppercase;\n    order: 3;\n    font-size: 0.85rem;\n    display: flex;\n    align-items: center;\n    line-height: 1;\n    padding: 0.2rem 0.6rem;\n    background: ",";\n    border: 2px solid;\n    border-color: ",";\n    color: ",";\n    &:hover {\n        background-color: ",";\n        border-color: ",";\n        color: ",";\n    }\n  "]);return D=function(){return e},e}function C(e){var t=Object(i.useContext)(m),a=_.a.button(D(),"light"===t?"white":"#444","light"===t?"black":"#767676","light"===t?"black":"white","light"===t?"#4469bb":"#da4045","light"===t?"#4469bb":"#da4045","light"===t?"white":"black"),n="Overview";return e.isFinalItem&&(n+=" & Submit"),o.a.createElement(a,{className:"overview-button theme-"+t,"aria-label":n,id:"overview"},o.a.createElement(g.d,null),n)}C.defaultProps={isFinalItem:!1};var P=C,F=a(19),R=a(20);function Q(e){return o.a.createElement("li",{className:"navBubble "+(e.isActive?"active ":"")+(e.isViewed?"viewed ":"")+(e.isAnswered?"answered ":"")},o.a.createElement("a",{className:"bubble-content","aria-label":"Question ".concat(e.itemId," ").concat(e.isAnswered?"(Answered)":""),onClick:e.showItem.bind(null,e)},e.isInformational&&o.a.createElement(F.a,{className:"informational"}),!e.isInformational&&(e.itemData.positionInPart+1).toString().padStart(2,"0"),e.isBookmarked&&o.a.createElement(R.a,{className:"mini-indicator"})))}Q.defaultProps={isInformational:!1};var L=Q;var V=function(e){return o.a.createElement("li",{className:"nav-section"},o.a.createElement("h3",{className:"qti-visually-hidden"},"Question Group ",e.sectionId," of 2: Shopping in the USA. The remaining time for this group is",o.a.createElement("span",{id:"section_timer"},"8 minutes 22 seconds")),o.a.createElement("fieldset",null,o.a.createElement("legend",{className:"qti-visually-hidden"},"Shopping in the USA"),o.a.createElement("ol",null,Object.entries(e.sectionData.items).map((function(t){var a=Object(n.a)(t,2),i=a[0],s=a[1];return o.a.createElement(L,{key:i,itemId:i,itemData:s,sectionId:e.sectionId,isBookmarked:!!e.bookmarks["".concat(e.sectionId,"_").concat(i)],isInformational:"assessmentSection-1"===e.sectionId&&"item-1"===i,isActive:e.sectionId===e.activeSectionId&&i===e.activeItemId,isViewed:s.viewed,isAnswered:s.answered,showItem:e.showItem})})))))};function G(e){return o.a.createElement("nav",{id:"navigation",className:"testNav"},o.a.createElement("h2",{className:"qti-visually-hidden"},"Navigation"),o.a.createElement(q,{dir:"next",move:e.moveForward}),o.a.createElement(q,{dir:"prev",move:e.moveBack}),o.a.createElement(P,{isFinalItem:"assessmentSection-3"===e.activeSectionId&&"item-5"===e.activeItemId}),o.a.createElement("ol",{className:"testNav-sections"},Object.entries(e.sectionsMap).map((function(t){var a=Object(n.a)(t,2),i=a[0],s=a[1];return o.a.createElement(V,{key:i,sectionId:i,sectionData:s,bookmarks:e.bookmarks,activeSectionId:e.activeSectionId,activeItemId:e.activeItemId,showItem:e.showItem})}))))}G.defaultProps={isBookmarked:!1};var H=G,U=(a(35),a(36),function(e){function t(e){var a;return Object(u.a)(this,t),console.log(e),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).moveForward=a.moveForward.bind(Object(I.a)(a)),a.moveBack=a.moveBack.bind(Object(I.a)(a)),a.showItem=a.showItem.bind(Object(I.a)(a)),a.bookmarkItem=a.bookmarkItem.bind(Object(I.a)(a)),a.setResponse=a.setResponse.bind(Object(I.a)(a)),a.state={sectionsMap:e.data.testMap.parts["testPart-1"].sections,activeSectionId:e.data.testContext.sectionId,activeItemId:e.data.testContext.itemIdentifier,itemAnimation:"",bookmarks:{},responses:{}},a}return Object(p.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.markItemViewed({sectionId:this.state.activeSectionId,itemId:this.state.activeItemId})}},{key:"bookmarkItem",value:function(e){var t=e.sectionId,a=e.itemId,n="".concat(t,"_").concat(a);this.setState((function(e){return{bookmarks:Object.assign(e.bookmarks,Object(d.a)({},n,!e.bookmarks[n]))}}))}},{key:"setResponse",value:function(e){var t=e.sectionId,a=e.itemId,n=e.letter,i="".concat(t,"_").concat(a);this.setState((function(e){return{responses:Object.assign(e.responses,Object(d.a)({},i,n))}})),this.markItemAnswered({sectionId:t,itemId:a})}},{key:"showItem",value:function(e){var t=e.sectionId,a=e.itemId;console.log("Go to",t,"from",this.state.activeSectionId,"and",a,"from",this.state.activeItemId),t<this.state.activeSectionId?this.setState({itemAnimation:"translateRight"}):t>this.state.activeSectionId?this.setState({itemAnimation:"translateLeft"}):a<this.state.activeItemId?this.setState({itemAnimation:"translateRight"}):a>this.state.activeItemId?this.setState({itemAnimation:"translateLeft"}):this.setState({itemAnimation:""}),this.setState((function(){return{activeSectionId:t,activeItemId:a}})),this.markItemViewed({sectionId:t,itemId:a})}},{key:"markItemViewed",value:function(e){var t=e.sectionId,a=e.itemId;this.setState((function(e){return{sectionsMap:Object(f.a)(e.sectionsMap,[t,"items",a,"viewed"],!0)}}))}},{key:"markItemAnswered",value:function(e){var t=e.sectionId,a=e.itemId;this.setState((function(e){return{sectionsMap:Object(f.a)(e.sectionsMap,[t,"items",a,"answered"],!0)}}))}},{key:"getActiveSection",value:function(){return this.state.sectionsMap[this.state.activeSectionId]}},{key:"getActiveItem",value:function(){return this.getActiveSection().items[this.state.activeItemId]}},{key:"getItems",value:function(e){return this.state.sectionsMap[e].items}},{key:"getNextSectionId",value:function(){var e=this.getActiveSection().position,t=Object.entries(this.state.sectionsMap).filter((function(t){var a=Object(n.a)(t,2),i=a[0],o=a[1];return i&&o.position===e+1}))[0];return t?t[0]:null}},{key:"getPreviousSectionId",value:function(){var e=this.getActiveSection().position,t=Object.entries(this.state.sectionsMap).filter((function(t){var a=Object(n.a)(t,2),i=a[0],o=a[1];return i&&o.position===e-1}))[0];return t?t[0]:null}},{key:"getPreviousSection",value:function(){var e=this.getPreviousSectionId();return e?this.state.sectionsMap[e]:null}},{key:"moveForward",value:function(){var e=this.getActiveItem().positionInSection,t=this.getActiveSection();if(e<Object.keys(t.items).length-1)this.moveTo(this.state.activeSectionId,e+1);else{var a=this.getNextSectionId();if(!a)return;this.moveTo(a,0)}}},{key:"moveBack",value:function(){var e=this.getActiveItem().positionInSection;if(e>0)this.moveTo(this.state.activeSectionId,e-1);else{var t=this.getPreviousSectionId(),a=this.getPreviousSection();if(!a)return;var n=Object.keys(a.items).length-1;this.moveTo(t,n)}}},{key:"moveTo",value:function(e,t){if("undefined"!==typeof e&&"undefined"!==typeof t){var a=Object.entries(this.getItems(e)).filter((function(e){var a=Object(n.a)(e,2),i=a[0],o=a[1];return i&&o.position===t}))[0][0];this.showItem({sectionId:e,itemId:a})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"test-runner theme-".concat(this.context)},o.a.createElement(k,null),o.a.createElement(j,{testTitle:this.props.data.testData.title,sectionData:this.state.sectionsMap[this.state.activeSectionId],toggleTheme:this.props.toggleTheme}),o.a.createElement("main",{id:"main"},o.a.createElement(M,{itemData:this.state.sectionsMap[this.state.activeSectionId].items[this.state.activeItemId],sectionId:this.state.activeSectionId,itemId:this.state.activeItemId,itemAnimation:this.state.itemAnimation,isBookmarked:this.state.bookmarks["".concat(this.state.activeSectionId,"_").concat(this.state.activeItemId)],response:this.state.responses["".concat(this.state.activeSectionId,"_").concat(this.state.activeItemId)],bookmarkItem:this.bookmarkItem,setResponse:this.setResponse})),o.a.createElement(H,{sectionsMap:this.state.sectionsMap,bookmarks:this.state.bookmarks,activeSectionId:this.state.activeSectionId,activeItemId:this.state.activeItemId,showItem:this.showItem,moveForward:this.moveForward,moveBack:this.moveBack}))}}]),t}(o.a.Component));U.contextType=m;var J=U;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37),a(38),a(39);var W="/data",z="testData.json";c.a.render(o.a.createElement((function(){var e=Object(i.useState)("light"),t=Object(n.a)(e,2),a=t[0],s=t[1],c=Object(i.useState)(null),r=Object(n.a)(c,2),m=r[0],d=r[1];return Object(i.useEffect)((function(){console.log("fetching testData..."),fetch("".concat(W,"/").concat(z)).then((function(e){return e.json()})).then((function(e){console.log(e),d(e)}))}),[]),m&&o.a.createElement(l,{value:a,key:Object.keys(m)[0]},o.a.createElement(J,{data:m,toggleTheme:function(){s((function(e){return"light"===e?"dark":"light"}))}}))}),null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.0f87ddbf.chunk.js.map